<div id="content">
  <div class="row">
    <div class="col-sm-12">
      <div class="pull-left header-button">
        <button (click)="black()" class="btn btn-labeled btn-primary">
                      <span class="btn-label"><i class="fa fa-reply"></i>
                      </span>Volver</button>
      </div>
    </div>
  </div>



  <legend align="center" style="font-family: 'Times New Roman';color:rgb(0, 92, 200)">
    <FONT SIZE=5>DIAGNÓSTICO PSICOLÓGICO </FONT>
  </legend>
  <app-dato-persona [codigo]='id'></app-dato-persona>
  <app-dato-beneficio [codigo]='id'></app-dato-beneficio>

  <!-- MAIN CONTENT -->
  <sa-widgets-grid *ngIf="!show && !showCatalago">
    <div sa-widget [colorbutton]="false" [editbutton]="false" [custombutton]="false">
      <header>
        <span class="widget-icon"> <i class="fa fa-edit"></i> </span>
        <h2><label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Terapias Psicológicas</FONT>
                                        </label> </h2>
      </header>
      <div>





        <form *ngIf="terapiavigente.id" id="checkout-form" class="smart-form">
          <legend SIZE=100 align="center" style="font-family: 'Times New Roman';color:rgb(0, 92, 200)">
            <FONT SIZE=5>Diagnóstico</FONT>
          </legend>
          <fieldset>
            <div class="row">
              <label class="col col-6 control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Fecha</FONT>
                                        </label></B> {{terapiavigente.fecha}}</label>
              <label class="col col-6 control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Motivo:</FONT>
                                        </label></B> {{terapiavigente.trfMotivo.motivo}}</label>
            </div>
            <div class="row">

              <label class="col col-6 control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Número de sesiones:</FONT>
                                        </label></B> {{terapiavigente.sesionnum}}</label>

              <label *ngIf="terapiavigente.estado==true" class="col col-6 control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Estado:</FONT>
                                        </label></B> ACTIVO</label>
            </div>


          </fieldset>

          <legend SIZE=100 align="center" style="font-family: 'Times New Roman';color:rgb(0, 92, 200)">
            <FONT SIZE=5>Enfermedades</FONT>
          </legend>

          <fieldset>
            <div class="col-md-6" *ngIf="terapiavigente.transitoriab">
              <label class="col col-6 control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Transitoria:</FONT>
                                        </label></B> {{terapiavigente.transitoria}}</label>
            </div>
            <div class="col-md-6" *ngIf="!terapiavigente.transitoriab">
              <label *ngIf="terapiavigente.estado==true" class="col col-6 control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Transitoria:</FONT>
                                        </label></B> NO</label>
            </div>
            <div class="col-md-6" *ngIf="terapiavigente.permanenteb">

              <label class="col col-6 control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Permanente:</FONT>
                                        </label></B> {{terapiavigente.permanente}}</label>
            </div>
            <div class="col-md-6" *ngIf="!terapiavigente.permanenteb">
              <label class="col col-6 control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Permanente:</FONT>
                                        </label></B> NO</label>
            </div>
          </fieldset>



          <legend SIZE=100 align="center" style="font-family: 'Times New Roman';color:rgb(0, 92, 200)">
            <FONT SIZE=5>Consumo</FONT>
          </legend>

          <fieldset>
            <div class="col-md-3" *ngIf="terapiavigente.alcohol">
              <label class="control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Alcohol:</FONT>
                                        </label></B> SI</label>
            </div>
            <div class="col-md-3" *ngIf="!terapiavigente.alcohol">
              <label class="control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Alcohol:</FONT>
                                        </label></B> NO</label>
            </div>
            <div class="col-md-3" *ngIf="terapiavigente.droga">
              <label class="control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Drogas:</FONT>
                                        </label></B> SI</label>
            </div>
            <div class="col-md-3" *ngIf="!terapiavigente.droga">
              <label class="control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Drogas:</FONT>
                                        </label></B> NO</label>
            </div>
            <div class="col-md-3" *ngIf="terapiavigente.medicamento">
              <label class="control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Medicamentos:</FONT>
                                        </label></B> SI</label>
            </div>
            <div class="col-md-3" *ngIf="!terapiavigente.medicamento">
              <label class="control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Medicamentos:</FONT>
                                        </label></B> NO</label>
            </div>
            <div class="col-md-3" *ngIf="terapiavigente.tabaco">
              <label class="control-label text-left"><B>Tabaco: </B> SI</label>
              <label class="control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Tabaco:</FONT>
                                        </label></B> SI</label>
            </div>
            <div class="col-md-3" *ngIf="!terapiavigente.tabaco">
              <label class="control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Tabaco:</FONT>
                                        </label></B> NO</label>
            </div>
            <hr size="2px" width="80%" noshade="noshade" align="center" />
          </fieldset>



          <fieldset>
            <div class="col-md-3">
              <label class="control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>¿Familiar que Consuma Alguno de Estos?:</FONT>
                                        </label></B>
              </label>
            </div>
            <div class="col-md-9">
              <label class="control-label text-left">{{terapiavigente.anamnesiFamiliar}}</label>
            </div>
            <hr size="2px" width="80%" noshade="noshade" align="center" />
          </fieldset>

          <legend SIZE=100 align="center" style="font-family: 'Times New Roman';color:rgb(0, 92, 200)">
            <FONT SIZE=5>Psicoanamnesis</FONT>
          </legend>

          <fieldset>
            <div class="col-md-3">
              <label class="control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Psicoanamnesis Familiar: </FONT>
                                        </label></B>
              </label>
            </div>
            <div class="col-md-9">
              <label class="control-label text-left">{{terapiavigente.psicoanamnesiFamiliar}}</label>
            </div>
            <hr size="2px" width="80%" noshade="noshade" align="center" />
          </fieldset>

          <fieldset>
            <div class="col-md-3">
              <label class="control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Psicoanamnesis Personal:</FONT>
                                        </label></B>
              </label>
            </div>
            <div class="col-md-9">
              <label class="control-label text-left">{{terapiavigente.psicoanamnesiPersonal}}</label>
            </div>
            <hr size="2px" width="80%" noshade="noshade" align="center" />
          </fieldset>
        </form>


        <div class="well" *ngIf="!show1">


          <div class="row">
            <legend SIZE=100 align="center" style="font-family: 'Times New Roman';color:rgb(0, 92, 200)">
              <FONT SIZE=5>Terapias Psicológicas</FONT>
            </legend>
          </div>

  <div class="well" align="center">

            <circle-progress [percent]="porcentaje" [radius]="100" [outerStrokeWidth]="16" [innerStrokeWidth]="8" [outerStrokeColor]="'#78C000'"
              [innerStrokeColor]="'#C7E596'" [animation]="true" [animationDuration]="300"></circle-progress>

          </div>


          <button *ngIf="terapiavigente.id" (click)="modal.show()" class="btn btn-labeled btn-primary">
                      <span class="btn-label"><i class="fa fa-plus-circle fa-lg"></i>
                      </span>Nuevo</button>

          <sa-datatable fbg-datatable tableClass="table table-striped table-bordered table-hover">
            <thead>
              <tr>
                <th>OPCIONES</th>
                <th>N° SESIÓN</th>
                <th>FECHA</th>
                <th>PORCENTAJE DE ASISTENCIA</th>

              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let seguimiento of sesiones">
                <td class="acciones">
                  <a class="btn btn-primary btn-xs" placement="top" data-toggle="modal" (click)="setSeguimientoId(seguimiento); modal.show()"><i class="fa fa-edit"></i> Editar</a>

                </td>
                <td>{{seguimiento.numsesionactual}}</td>
                <td>{{seguimiento.fecha | date:'dd/MM/yyyy'}}</td>
                <td>
                  <circle-progress [percent]="seguimiento.porcentajeasistido" [radius]="40" [outerStrokeWidth]="16" [innerStrokeWidth]="8"
                    [outerStrokeColor]="'#78C000'" [innerStrokeColor]="'#C7E596'" [animation]="true" [animationDuration]="300"></circle-progress>


                </td>
              </tr>
            </tbody>
          </sa-datatable>
        </div>
      </div>
    </div>
  </sa-widgets-grid>







  <!--HHHHHHHHHHHHHHHHHHHHHHH-->

  <div class="modal" id="CrudFuente" bsModal #modal="bs-modal" role="dialog" aria-hidden="true" tabindex="-1" data-backdrop=”static”
    data-keyboard=”false”>
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <a class="close" type="reset" (click)="close()">&times;</a>

        </div>
        <div class="modal-body">
          <form class="form-horizontal" novalidate="novalidate" (ngSubmit)="addOrUpdate($event)" [saBootstrapValidator]="getValidators()">

            <fieldset *ngIf="asistencia.id">
              <div class="col-md-2">
                <label class="control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>FECHA:</FONT>
                                        </label></B>
                </label>
              </div>
              <div class="col-md-10">
                <input disabled type="text" class="form-control"  [value]="asistencia.fecha | date: 'dd/MM/yyyy'" name="fecha">
              </div>
              <hr size="2px" width="80%" noshade="noshade" align="center" />
            </fieldset>




            <legend SIZE=100 align="center" style="font-family: 'Times New Roman';color:rgb(0, 92, 200)">
              <FONT SIZE=5>CONCLUSIONES - RECOMENDACIONES</FONT>
            </legend>

            <fieldset>
              <div class="col-md-2">
                <label class="control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Conclusión:</FONT>
                                        </label></B>
                </label>
              </div>
              <div class="col-md-10">
                <textarea class="form-control" [(ngModel)]="asistencia.conclusion" name="conclusion"></textarea>
              </div>
              <hr size="2px" width="80%" noshade="noshade" align="center" />
            </fieldset>




            <fieldset>
              <div class="col-md-2">
                <label class="control-label text-left"><B> <label for="cedula" style="color: rgb(126, 123, 123) ; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif">
                                            <FONT SIZE=3>Recomendación:</FONT>
                                        </label></B>
                </label>
              </div>
              <div class="col-md-10">
                <textarea style="text-transform:uppercase" class="form-control" [(ngModel)]="asistencia.recomendacion" name="recomendacion"></textarea>
              </div>
              <hr size="2px" width="80%" noshade="noshade" align="center" />
            </fieldset>




            <fieldset>
              <div class="form-actions">
                <div class="pull-left">
                  <div class="col-md-12">
                    <div class="modal-footer">
                      <button type="submit" class="btn btn-labeled btn-primary">
                      <span class="btn-label"><i class="fa fa-floppy-o fa-lg"></i>
                      </span>Guardar</button>

                      <button (click)="close()" class="btn btn-labeled btn-danger" type="reset">
                      <span class="btn-label"><i class="glyphicon glyphicon-remove"></i>
                      </span>Cancelar</button>

                    </div>
                  </div>
                </div>
                <div style="clear:both"></div>
              </div>
            </fieldset>
          </form>
        </div>
      </div>
    </div>
  </div>





</div>